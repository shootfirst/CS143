# 编译原理



## 词法分析

作用：将源文件转化为：token <种别, 属性值>

#### token分类

+ 关键字

+ 标识符

+ 常量（字符常量、int常量、布尔常量）

+ 运算符

+ 其他符号

#### 单词的描述（三者等效，可以互相转换）

+ 正则表达式（证明语言性质）

+ 正则文法（实践）

+ 有穷状态自动机（实践）flex采用这种



## 语法分析

是编译器的核心部分，将token序列转化为语法分析树



#### 自顶向下

采用最左推导

##### 预测分析法

同一非终结符的候选式存在共同前缀，则会回溯

为防止回溯，采用预测分析法，向前查看n个单词（提取左公因子）

select集

步骤

+ 消除二义性、消除左递归

+ 求每个候选式的FIRST集和变量的FOLLOW集

+ 检查是不是LL(1)文法

+ 构造预测分析表

##### LL(1)文法


#### 自底向上

移入规约分析

移入过程：移入符号和状态

规约过程：弹出k个符号和状态，移入规约的符号

输入字符w和LR语法分析表，该表描述了action函数与goto函数，输出是否规约成功

分析表构造的四个方法


##### LR(0)

+ 项目

+ 项目集合I，由所有等价项目组成，成为项目集闭包，是自动机中的一个状态

+ closure(I)函数，计算给定项目集I的闭包

+ goto(I,X)函数，返回项目集I对应文法符号X后继项目集的闭包

+ 规约时机：对于每一个终结符和$都规约之

+ 移入规约冲突和规约规约冲突


##### SLR(1)

+ 规约时机：下一个输入符号b属于与归约项目A→α相关联的FOLLOW(A)


##### LR(1)

+ LR(1)项目

+ 等价LR(1)项目

+ 规约时机：展望符： A->a.Bb，此时展望符为first(Bb)


##### LALR(1)

+ 同心项目集

+ 合并同心项集（相对于LR(1)可能会产生规约规约冲突，会推迟错误发现）


## 语义分析

## 中间代码生成

## 机器无关优化

## 目标代码生成

## 机器相关优化
